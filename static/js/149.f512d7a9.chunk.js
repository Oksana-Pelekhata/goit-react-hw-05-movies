"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[149],{713:function(n,t,e){e.d(t,{Df:function(){return u},MK:function(){return o},TP:function(){return i},jP:function(){return s},zv:function(){return a}});var r={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJkZDZmMmViODRlZmMxMzljMTk5OGU5YmRmYzZlMTU2ZiIsInN1YiI6IjY0MzhlODZmYWI2ODQ5MDBiZDAxM2E2NCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.MX0hLc_etjm7AgFSwCGHbxJEsYMEfLi6jQCO-l5vNZc"}},c="https://api.themoviedb.org/3",u=function(){return fetch("".concat(c,"/trending/all/day?language=en-US"),r).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))},o=function(n){return fetch("".concat(c,"/search/movie?query=").concat(n),r).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))},i=function(n){return fetch("".concat(c,"/movie/").concat(n),r).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))},a=function(n){return fetch("".concat(c,"/movie/").concat(n,"/credits"),r).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))},s=function(n){return fetch("".concat(c,"/movie/").concat(n,"/reviews"),r).then((function(n){if(!n.ok)throw new Error(n.status);return n.json()}))}},623:function(n,t,e){e.d(t,{Z:function(){return i}});e(791);var r,c=e(168),u=e(867).ZP.div(r||(r=(0,c.Z)(["\nmardin-bottom: 20px;\npadding: 10px 15px;\n"]))),o=e(184),i=function(n){var t=n.children;return(0,o.jsx)(u,{children:t})}},821:function(n,t,e){e(791);var r=e(689),c=e(87),u=e(184);t.Z=function(n){var t=n.movies,e=(0,r.TH)();return(0,u.jsx)("ul",{children:t&&t.map((function(n){var t=n.title,r=n.id;return(0,u.jsx)("li",{children:(0,u.jsxs)(c.rU,{to:"/movies/".concat(r),state:{from:e},children:[t," "]})},r)}))})}},149:function(n,t,e){e.r(t),e.d(t,{default:function(){return l}});var r=e(433),c=e(439),u=e(791),o=e(821),i=e(623),a=e(87),s=e(713),f=e(184),h=function(n){var t=n.handleSearch,e=n.searchRequest;return(0,f.jsxs)("form",{onSubmit:t,children:[(0,f.jsx)("input",{type:"text",name:"search",defaultValue:e}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})},l=function(){var n,t=(0,u.useState)(null),e=(0,c.Z)(t,2),l=e[0],m=e[1],d=(0,u.useState)(null),v=(0,c.Z)(d,2)[1],j=(0,a.lr)(),p=(0,c.Z)(j,2),Z=p[0],x=p[1],w=null!==(n=Z.get("search"))&&void 0!==n?n:"";return(0,u.useEffect)((function(){(0,s.MK)(w).then((function(n){n.results.map((function(n){return m((function(t){return[].concat((0,r.Z)(t),[{title:n.title||n.name,id:n.id}])}))}))})).catch((function(n){return v(n)}))}),[w]),(0,f.jsxs)(i.Z,{children:[(0,f.jsx)(h,{handleSearch:function(n){n.preventDefault();var t=n.target.elements.search.value;if(""===t)return alert("Please, enter your search request ");x({search:t}),m([])},searchRequest:w}),(0,f.jsx)(o.Z,{movies:l})]})}}}]);
//# sourceMappingURL=149.f512d7a9.chunk.js.map